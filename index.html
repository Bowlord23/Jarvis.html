<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Распознавание голоса и чтение текста</title>
</head>
<body>

  <button onclick="recognizer.start()">Слушать</button>
  <button onclick="talk ()">Проговорить</button>
  <button onclick="window.speechSynthesis.speak(msg)">Остановить</button>
  <h1 id="lol">lol</h1>
  <script>
  // Создаем распознаватель
  var recognizer = new webkitSpeechRecognition();

  // Ставим опцию, чтобы распознавание началось ещё до того, как пользователь закончит говорить
  recognizer.interimResults = true;

  // Какой язык будем распознавать?
  recognizer.lang = 'ru-Ru';

  // Используем колбек для обработки результатов
  recognizer.onresult = function (event) {
    var result = event.results[event.resultIndex];
    if (result.isFinal) {
      alert('Вы сказали: ' + result[0].transcript);
    } else {
      console.log('Промежуточный результат: ', result[0].transcript);}
if ('Привет' == result[0].transcript) { talk ()}
  };

  function speech () {
    // Начинаем слушать микрофон и распознавать голос
    recognizer.start();
  }

  var synth = window.speechSynthesis;
  var utterance = new SpeechSynthesisUtterance('Здравствуй, мой повелитель.');

  function talk () {
    synth.speak (utterance);
  }

  let utterance1 = new SpeechSynthesisUtterance("Hallo");
  speechSynthesis.speak(utterance1);

  </script>

</body>
</html>
